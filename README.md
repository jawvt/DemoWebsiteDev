PSK Golf League — Demo App
==========================

Overview
--------
This is a single-file demo web app for the PSK Golf League. It implements:
- Weekly round declarations
- Hole-by-hole score submissions (9 holes)
- Optional scorecard photo upload (stored as data URL in demo)
- Leaderboard based on lowest cumulative strokes across a 6-week season

Files
-----
- `index.html` — single-file app (UI + client-side storage).

Where data goes (current demo)
-----------------------------
All app data is stored locally in the browser using `localStorage` under the key `psk_golf_data`.
Structure (JSON):
- `declarations`: array of { player, week, declaredAt }
- `submissions`: array of { player, week, holes: [9 numbers], photo: dataURL|null, submittedAt }

Notes about demo behavior:
- Missed weeks are treated as a score of 63 (triple-bogey average) when computing season totals.
- Commissioner (demo-only) unlock is toggled with the demo password `pskcomm`. This is insecure — replace or remove for production.

Running locally
---------------
Open `index.html` in any modern browser (double-click the file or serve it from a static server).
For a quick static server (Node installed):

```bash
# from project root
npx http-server . -o
```

Production (recommended approach)
--------------------------------
LocalStorage is fine for testing, but for multiple users and persistence you'll need a backend.
Recommended production options:

1) Firebase (Realtime/Firestore + Storage)
   - Use Firebase Authentication for sign-in (email or OAuth).
   - Save submissions/declarations in Firestore.
   - Upload photos to Firebase Storage and store download URLs in Firestore.

2) Supabase
   - Use Supabase Auth for users.
   - Store rows in Postgres (Supabase) and photos in Supabase Storage.

3) Custom API + relational DB (Postgres/MySQL)
   - Endpoints: `POST /api/declare`, `POST /api/submit`, `GET /api/leaderboard`, `GET /api/player/:id`
   - Store photos in object storage (S3, DigitalOcean Spaces) and store URLs in DB.
   - Secure commissioner actions via server-side roles and authentication.

Security & Integrity
--------------------
- Move commissioner privilege checks to the server; do not rely on client-side password.
- Validate score submissions server-side (e.g., holes length = 9, reasonable values).
- Consider adding an audit log for edits made by commissioners.
- For photo evidence, accept images server-side and optionally run basic image validation.

Data migration and export
-------------------------
To export existing local demo data for migration to a server, open the browser console and run:

```js
console.log(localStorage.getItem('psk_golf_data'))
```

Then parse the JSON and POST it to your new API for import.

Next steps (suggested)
----------------------
- Add user authentication (email or OAuth).
- Implement a simple server API with persistent DB and secure commissioner endpoints.
- Replace client-side photo storage (data URLs) with server uploads to object storage.
- Add admin UI for commissioner score edits and dispute resolution.

Contact
-------
If you want, I can:
- Scaffold a minimal Express + Postgres API for this app,
- Or integrate with Firebase/Supabase and update `index.html` to call the service.


(README generated by your assistant)